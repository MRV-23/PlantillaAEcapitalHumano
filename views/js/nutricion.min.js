class Nutricion{constructor(){this.cambiarPerfil=$("#botonCambiarPerfil"),this.guardarPerfil=$("#guardarCambiarPerfil"),this.detalleUsuario=$(".detalleUsuarioNutrifitness"),this.leche=$(".grupoLeche"),this.cereales=$(".grupoCereales"),this.leguminosas=$(".grupoLeguminosas"),this.carne=$(".grupoCarne"),this.fruta=$(".grupoFruta"),this.verdura=$(".grupoVerdura"),this.grasa=$(".grupoGrasa"),this.ventanaLeche=$("#modalLeche"),this.ventanaCereal=$("#modalCereal"),this.ventanaLeguminosa=$("#modalLeguminosa"),this.ventanaCarne=$("#modalCarne"),this.ventanaFruta=$("#modalFruta"),this.ventanaVerdura=$("#modalVerdura"),this.ventanaGrasa=$("#modalGrasa"),this.modificarPlan=$("#modificarPlan"),this.guardarPlan=$("#guardarPlan"),this.claseInputPlan=$(".input-nutrifitness"),this.claseInputLaboratorio=$(".input-nutrifitness-laboratorio"),this.claseInputComposicion=$(".input-nutrifitness-composicion"),this.claseInputFisicoEvaluacion=$(".input-nutrifitness-fisico-evaluacion"),this.claseInputFisicoPlan=$(".input-nutrifitness-fisico-plan"),this.colasion=$("#colasion"),this.comentariosLaboratorio=$("#comentariosLaboratorio"),this.comentariosComposicion=$("#comentariosComposicion"),this.formularioPlan=$("#formularioPlan"),this.formularioLaboratorio=$("#formularioLaboratorio"),this.modificarLaboratorio=$("#modificarLaboratorio"),this.guardarLaboratorio=$("#guardarLaboratorio"),this.formularioComposicion=$("#formularioComposicion"),this.modificarComposicion=$("#modificarComposicion"),this.guardarComposicion=$("#guardarComposicion"),this.descripcionEspecial=$("#descripcionUsuarioEspecial"),this.documentoCargar=$("#documento"),this.portada=$("#portada"),this.lienzo=$("#lienzoDocumentoNutricion"),this.lienzo2=$("#lienzoImagenNutricion"),this.formularioArchivo=$("#formularioCargarNutricion"),this.formularioEvaluacionFisica=$("#formularioResultadosFisico"),this.modificarEvaluacionFisica=$("#modificarResultadosFisico"),this.guardarEvaluacionFisica=$("#guardarResultadosFisico"),this.formularioPlanFisico=$("#formularioPlanFisico"),this.modificarPlanFisico=$("#modificarPlanFisico"),this.guardarPlanFisico=$("#guardarPlanFisico"),this.semana=$(".planFisico"),this.imc=$("#imc"),this.clasificacionImc=$("#clasificacionImc"),this.cintura=$("#cintura"),this.clasificacionCintura=$("#clasificacionCintura"),this.contenedoresTalleres=$("#contenedoresTalleres"),this.checkedJefe=$("#checkedJefe"),this.subordinados=$(".grupoChecked"),this.pdf=$(".planAlimenticio"),this.comentariosEvaluacion=$("#comentariosEvaluacionFisica"),this.botonEquipo=$(".botonEquipo"),this.listaEquipo=$("#listaEquipo"),this.cargarIntegrantes=$("#cargarIntegrantes"),this.nombreMiequipo=$("#nombreMiequipo"),this.claseEquipos=$("#claseEquipos"),this.comentariosPlan=$("#comentariosPlan"),this.nuevoRegistroLaboratorio=$("#nuevoRegistroLaboratorio"),this.laboratorioAnterior=$("#laboratorioAnterior"),this.laboratorioSiguiente=$("#laboratorioSiguiente"),this.totalRegistrosLaboratorio=$("#totalRegistrosLaboratorio"),this.totalRegistrosLaboratorio2=$("#totalRegistrosLaboratorio2"),this.totalRegistrosLaboratorio3=$("#totalRegistrosLaboratorio3"),this.actualizarRegistroLaboratorio=$("#actualizarRegistroLaboratorio"),this.nuevoRegistroComposicion=$("#nuevoRegistroComposicion"),this.composicionAnterior=$("#composicionAnterior"),this.composicionSiguiente=$("#composicionSiguiente"),this.totalRegistrosComposicion=$("#totalRegistrosComposicion"),this.totalRegistrosComposicion2=$("#totalRegistrosComposicion2"),this.totalRegistrosComposicion3=$("#totalRegistrosComposicion3"),this.actualizarRegistroComposicion=$("#actualizarRegistroComposicion"),this.nuevoRegistroAlimentacion=$("#nuevoRegistroAlimentacion"),this.alimentacionAnterior=$("#alimentacionAnterior"),this.alimentacionSiguiente=$("#alimentacionSiguiente"),this.totalRegistrosAlimentacion=$("#totalRegistrosAlimentacion"),this.totalRegistrosAlimentacion2=$("#totalRegistrosAlimentacion2"),this.totalRegistrosAlimentacion3=$("#totalRegistrosAlimentacion3"),this.actualizarRegistroAlimentacion=$("#actualizarRegistroAlimentacion"),this.nuevoRegistroFisica=$("#nuevoRegistroFisica"),this.fisicaAnterior=$("#fisicaAnterior"),this.fisicaSiguiente=$("#fisicaSiguiente"),this.totalRegistrosFisica=$("#totalRegistrosFisica"),this.totalRegistrosFisica2=$("#totalRegistrosFisica2"),this.totalRegistrosFisica3=$("#totalRegistrosFisica3"),this.actualizarRegistroFisica=$("#actualizarRegistroFisica"),this.nuevoRegistroPlan=$("#nuevoRegistroPlan"),this.planAnterior=$("#planAnterior"),this.planSiguiente=$("#planSiguiente"),this.totalRegistrosPlan=$("#totalRegistrosPlan"),this.totalRegistrosPlan2=$("#totalRegistrosPlan2"),this.totalRegistrosPlan3=$("#totalRegistrosPlan3"),this.actualizarRegistroPlan=$("#actualizarRegistroPlan"),this.rutaPdf=$("#rutaPdf")}static detalleUsuario(i){$("body").append('<div id="loadImageDatos" style="width:100%;height:100%;position:absolute;top:0;left:0;display: flex;flex-direction: column;justify-content: center;align-items: center;><div style="width:120px;height:120px;position:absolute;top:50%;left:50%;margin-top:-60px;margin-left:-60px;"><i class="fa fa-spinner fa-pulse fa-fw" style="font-size:110px;"></i></div></div>'),$.ajax({type:"POST",url:ruta_server+"controllers/AjaxEventos.php",dataType:"json",data:{idUsuario:i}}).done(function(o){let a=o.genero;$("#modalDetalleUsuarioNutrifitness").html(o.data),$("#modalDetalleUsuarioNutrifitness2").html(o.data2),null!=o.imagen?($("#fotografiaUsuarioNutrifitness").attr("src",ruta_server+"views/imagenes-usuarios/mini/"+o.imagen),$("#fotografiaUsuarioNutrifitness").attr("alt",ruta_server+"views/imagenes-usuarios/"+o.imagen)):($("#fotografiaUsuarioNutrifitness").attr("src",ruta_server+"views/img/user.png"),$("#fotografiaUsuarioNutrifitness").attr("alt",ruta_server+"views/img/user.png"));let t=new Nutricion;t.guardarPlan.hide(),t.guardarLaboratorio.hide(),t.guardarComposicion.hide(),t.guardarEvaluacionFisica.hide(),t.guardarPlanFisico.hide(),$("#loadImageDatos").remove(),t.leche.click(function(){t.ventanaLeche.modal("show")}),t.cereales.click(function(){t.ventanaCereal.modal("show")}),t.leguminosas.click(function(){t.ventanaLeguminosa.modal("show")}),t.carne.click(function(){t.ventanaCarne.modal("show")}),t.fruta.click(function(){t.ventanaFruta.modal("show")}),t.verdura.click(function(){t.ventanaVerdura.modal("show")}),t.grasa.click(function(){t.ventanaGrasa.modal("show")}),t.modificarPlan.click(function(){t.modificarPlan.hide(),t.guardarPlan.show(),t.claseInputPlan.addClass("input-nutrifitness2"),t.claseInputPlan.removeAttr("readonly"),t.colasion.removeAttr("readonly"),t.colasion.addClass("detalleUsuarioEspecial2"),t.nuevoRegistroAlimentacion.prop("disabled",!0),t.alimentacionAnterior.prop("disabled",!0),t.alimentacionSiguiente.prop("disabled",!0)}),t.modificarLaboratorio.click(function(){t.modificarLaboratorio.hide(),t.guardarLaboratorio.show(),t.claseInputLaboratorio.addClass("input-nutrifitness2-laboratorio"),t.claseInputLaboratorio.removeAttr("readonly"),t.comentariosLaboratorio.removeAttr("readonly"),t.comentariosLaboratorio.addClass("detalleUsuarioEspecial2"),t.nuevoRegistroLaboratorio.prop("disabled",!0),t.laboratorioAnterior.prop("disabled",!0),t.laboratorioSiguiente.prop("disabled",!0)}),t.modificarComposicion.click(function(){t.modificarComposicion.hide(),t.guardarComposicion.show(),t.claseInputComposicion.addClass("input-nutrifitness2-composicion"),t.claseInputComposicion.removeAttr("readonly"),t.comentariosComposicion.removeAttr("readonly"),t.comentariosComposicion.addClass("detalleUsuarioEspecial2"),t.nuevoRegistroComposicion.prop("disabled",!0),t.composicionAnterior.prop("disabled",!0),t.composicionSiguiente.prop("disabled",!0)}),t.modificarEvaluacionFisica.click(function(){t.modificarEvaluacionFisica.hide(),t.guardarEvaluacionFisica.show(),t.claseInputFisicoEvaluacion.addClass("input-nutrifitness2-fisico-evaluacion"),t.claseInputFisicoEvaluacion.removeAttr("readonly"),t.comentariosEvaluacion.removeAttr("readonly"),t.comentariosEvaluacion.addClass("detalleUsuarioEspecial2"),t.nuevoRegistroFisica.prop("disabled",!0),t.fisicaAnterior.prop("disabled",!0),t.fisicaSiguiente.prop("disabled",!0)}),t.modificarPlanFisico.click(function(){t.modificarPlanFisico.hide(),t.guardarPlanFisico.show(),t.claseInputFisicoPlan.addClass("input-nutrifitness2-fisico-plan"),t.claseInputFisicoPlan.removeAttr("readonly"),t.semana.removeAttr("readonly"),t.semana.addClass("detalleUsuarioEspecial2"),t.nuevoRegistroPlan.prop("disabled",!0),t.planAnterior.prop("disabled",!0),t.planSiguiente.prop("disabled",!0)}),t.formularioPlan.submit(function(o){o.preventDefault(),t.modificarPlan.show(),t.guardarPlan.hide(),t.claseInputPlan.removeClass("input-nutrifitness2"),t.claseInputPlan.prop("readonly",!0),t.colasion.prop("readonly",!0),t.colasion.removeClass("detalleUsuarioEspecial2"),t.nuevoRegistroAlimentacion.prop("disabled",!1),t.alimentacionAnterior.prop("disabled",!1),t.alimentacionSiguiente.prop("disabled",!1);let a=new FormData($(this)[0]);a.append("idUsuarioDetalles",i),$.ajax({url:ruta_server+"controllers/AjaxEventos.php",method:"POST",data:a,cache:!1,contentType:!1,processData:!1,dataType:"json",success:function(i){i.respuesta?swal({title:"",text:"Guardado",type:"success",timer:1e3,showConfirmButton:!1,allowOutsideClick:!1}).catch(swal.noop):swal({title:"Ocurrio un error",text:"Intente guardar otra vez",type:"error",showConfirmButton:!1}).catch(swal.noop)}})}),t.formularioLaboratorio.submit(function(o){o.preventDefault(),t.modificarLaboratorio.show(),t.guardarLaboratorio.hide(),t.claseInputLaboratorio.removeClass("input-nutrifitness2-laboratorio"),t.claseInputLaboratorio.prop("readonly",!0),t.comentariosLaboratorio.prop("readonly",!0),t.comentariosLaboratorio.removeClass("detalleUsuarioEspecial2"),t.nuevoRegistroLaboratorio.prop("disabled",!1),t.laboratorioAnterior.prop("disabled",!1),t.laboratorioSiguiente.prop("disabled",!1);let a=new FormData($(this)[0]);a.append("idUsuarioDetalles",i),$.ajax({url:ruta_server+"controllers/AjaxEventos.php",method:"POST",data:a,cache:!1,contentType:!1,processData:!1,dataType:"json",success:function(i){i.respuesta?swal({title:"",text:"Guardado",type:"success",timer:1e3,showConfirmButton:!1,allowOutsideClick:!1}).catch(swal.noop):swal({title:"Ocurrio un error",text:"Intente guardar otra vez",type:"error",showConfirmButton:!1}).catch(swal.noop)}})}),t.formularioComposicion.submit(function(o){o.preventDefault(),t.modificarComposicion.show(),t.guardarComposicion.hide(),t.claseInputComposicion.removeClass("input-nutrifitness2-composicion"),t.claseInputComposicion.prop("readonly",!0),t.comentariosComposicion.prop("readonly",!0),t.comentariosComposicion.removeClass("detalleUsuarioEspecial2"),t.nuevoRegistroComposicion.prop("disabled",!1),t.composicionAnterior.prop("disabled",!1),t.composicionSiguiente.prop("disabled",!1);let a=new FormData($(this)[0]);a.append("idUsuarioDetalles",i),$.ajax({url:ruta_server+"controllers/AjaxEventos.php",method:"POST",data:a,cache:!1,contentType:!1,processData:!1,dataType:"json",success:function(i){i.respuesta?swal({title:"",text:"Guardado",type:"success",timer:1e3,showConfirmButton:!1,allowOutsideClick:!1}).catch(swal.noop):swal({title:"Ocurrio un error",text:"Intente guardar otra vez",type:"error",showConfirmButton:!1}).catch(swal.noop)}})}),t.formularioEvaluacionFisica.submit(function(o){o.preventDefault(),t.modificarEvaluacionFisica.show(),t.guardarEvaluacionFisica.hide(),t.claseInputFisicoEvaluacion.removeClass("input-nutrifitness2-fisico-evaluacion"),t.claseInputFisicoEvaluacion.prop("readonly",!0),t.comentariosEvaluacion.prop("readonly",!0),t.comentariosEvaluacion.removeClass("detalleUsuarioEspecial2"),t.nuevoRegistroFisica.prop("disabled",!1),t.fisicaAnterior.prop("disabled",!1),t.fisicaSiguiente.prop("disabled",!1);let a=new FormData($(this)[0]);a.append("idUsuarioDetalles",i),$.ajax({url:ruta_server+"controllers/AjaxEventos.php",method:"POST",data:a,cache:!1,contentType:!1,processData:!1,dataType:"json",success:function(i){i.respuesta?swal({title:"",text:"Guardado",type:"success",timer:1e3,showConfirmButton:!1,allowOutsideClick:!1}).catch(swal.noop):swal({title:"Ocurrio un error",text:"Intente guardar otra vez",type:"error",showConfirmButton:!1}).catch(swal.noop)}})}),t.formularioPlanFisico.submit(function(o){o.preventDefault(),t.modificarPlanFisico.show(),t.guardarPlanFisico.hide(),t.claseInputFisicoPlan.removeClass("input-nutrifitness2-fisico-plan"),t.claseInputFisicoPlan.prop("readonly",!0),t.semana.prop("readonly",!0),t.semana.removeClass("detalleUsuarioEspecial2"),t.nuevoRegistroPlan.prop("disabled",!1),t.planAnterior.prop("disabled",!1),t.planSiguiente.prop("disabled",!1);let a=new FormData($(this)[0]);a.append("idUsuarioDetalles",i),$.ajax({url:ruta_server+"controllers/AjaxEventos.php",method:"POST",data:a,cache:!1,contentType:!1,processData:!1,dataType:"json",success:function(i){i.respuesta?swal({title:"",text:"Guardado",type:"success",timer:1e3,showConfirmButton:!1,allowOutsideClick:!1}).catch(swal.noop):swal({title:"Ocurrio un error",text:"Intente guardar otra vez",type:"error",showConfirmButton:!1}).catch(swal.noop)}})}),t.imc.on("input",function(){t.clasificacionImc.text(Nutricion.imc(t.imc.val()))}),t.cintura.on("input",function(){t.clasificacionCintura.text(Nutricion.cintura(t.cintura.val(),a))});let r=t.alimentacionAnterior.parent().attr("value");t.nuevoRegistroAlimentacion.click(function(){Nutricion.crearRegistro('¿Quieres crear un nuevo registro de "PLAN ALIMENTICIO" para este usuario?',i=>{if(i){let i={nuevoRegistro:$(this).val(),tabla:3};Nutricion.consultaAjax("controllers/AjaxEventos.php",i,(i,o)=>{if(i)Nutricion.mostrarRespuesta("error","Error, intente de nuevo",3e4,!0);else{let i=parseInt(t.alimentacionAnterior.parent().attr("value"))+1;t.totalRegistrosAlimentacion.text(i),t.totalRegistrosAlimentacion2.text(i),t.totalRegistrosAlimentacion3.attr("value",i),r=i,t.alimentacionAnterior.prop("disabled",!1),t.alimentacionSiguiente.prop("disabled",!1),Nutricion.mostrarRespuesta("success","Hecho",1e3),$(".input-nutrifitness").val(0),t.colasion.val(""),t.actualizarRegistroAlimentacion.val(o.idRegistro),t.modificarPlan.click()}})}})}),t.alimentacionAnterior.click(function(){r>1&&(t.totalRegistrosAlimentacion.text(--r),Nutricion.cargarDatosAlimentacion(t,i,r))}),t.alimentacionSiguiente.click(function(){r<t.alimentacionAnterior.parent().attr("value")&&(t.totalRegistrosAlimentacion.text(++r),Nutricion.cargarDatosAlimentacion(t,i,r))});let e=t.laboratorioAnterior.parent().attr("value");t.nuevoRegistroLaboratorio.click(function(){Nutricion.crearRegistro('¿Quieres crear un nuevo registro de "RESULTADOS DE LABORATORIO" para este usuario?',i=>{if(i){let i={nuevoRegistro:$(this).val(),tabla:1};Nutricion.consultaAjax("controllers/AjaxEventos.php",i,(i,o)=>{if(i)Nutricion.mostrarRespuesta("error","Error, intente de nuevo",3e4,!0);else{let i=parseInt(t.laboratorioAnterior.parent().attr("value"))+1;t.totalRegistrosLaboratorio.text(i),t.totalRegistrosLaboratorio2.text(i),t.totalRegistrosLaboratorio3.attr("value",i),e=i,t.laboratorioAnterior.prop("disabled",!1),t.laboratorioSiguiente.prop("disabled",!1),Nutricion.mostrarRespuesta("success","Hecho",1e3),$(".input-nutrifitness-laboratorio").val(0),t.comentariosLaboratorio.val(""),t.actualizarRegistroLaboratorio.val(o.idRegistro),t.modificarLaboratorio.click()}})}})}),t.laboratorioAnterior.click(function(){e>1&&(t.totalRegistrosLaboratorio.text(--e),Nutricion.cargarDatosLaboratorio(t,i,e))}),t.laboratorioSiguiente.click(function(){e<t.laboratorioAnterior.parent().attr("value")&&(t.totalRegistrosLaboratorio.text(++e),Nutricion.cargarDatosLaboratorio(t,i,e))});let n=t.composicionAnterior.parent().attr("value");t.nuevoRegistroComposicion.click(function(){Nutricion.crearRegistro('¿Quieres crear un nuevo registro de "COMPOSICIÓN CORPORAL" para este usuario?',i=>{if(i){let i={nuevoRegistro:$(this).val(),tabla:2};Nutricion.consultaAjax("controllers/AjaxEventos.php",i,(i,o)=>{if(i)Nutricion.mostrarRespuesta("error","Error, intente de nuevo",3e4,!0);else{let i=parseInt(t.composicionAnterior.parent().attr("value"))+1;t.totalRegistrosComposicion.text(i),t.totalRegistrosComposicion2.text(i),t.totalRegistrosComposicion3.attr("value",i),n=i,t.composicionAnterior.prop("disabled",!1),t.composicionSiguiente.prop("disabled",!1),Nutricion.mostrarRespuesta("success","Hecho",1e3),$(".input-nutrifitness-composicion").val(0),t.comentariosComposicion.val(""),t.actualizarRegistroComposicion.val(o.idRegistro),t.modificarComposicion.click()}})}})}),t.composicionAnterior.click(function(){n>1&&(t.totalRegistrosComposicion.text(--n),Nutricion.cargarDatosComposicion(t,i,n))}),t.composicionSiguiente.click(function(){n<t.composicionAnterior.parent().attr("value")&&(t.totalRegistrosComposicion.text(++n),Nutricion.cargarDatosComposicion(t,i,n))});let s=t.fisicaAnterior.parent().attr("value");t.nuevoRegistroFisica.click(function(){Nutricion.crearRegistro('¿Quieres crear un nuevo registro de "EVALUACIÓN FÍSICA" para este usuario?',i=>{if(i){let i={nuevoRegistro:$(this).val(),tabla:4};Nutricion.consultaAjax("controllers/AjaxEventos.php",i,(i,o)=>{if(i)Nutricion.mostrarRespuesta("error","Error, intente de nuevo",3e4,!0);else{let i=parseInt(t.fisicaAnterior.parent().attr("value"))+1;t.totalRegistrosFisica.text(i),t.totalRegistrosFisica2.text(i),t.totalRegistrosFisica3.attr("value",i),s=i,t.fisicaAnterior.prop("disabled",!1),t.fisicaSiguiente.prop("disabled",!1),Nutricion.mostrarRespuesta("success","Hecho",1e3),$(".input-nutrifitness-fisico-evaluacion").val(0),t.comentariosEvaluacion.val(""),t.actualizarRegistroFisica.val(o.idRegistro),t.modificarEvaluacionFisica.click()}})}})}),t.fisicaAnterior.click(function(){s>1&&(t.totalRegistrosFisica.text(--s),Nutricion.cargarDatosFisica(t,i,s))}),t.fisicaSiguiente.click(function(){s<t.fisicaAnterior.parent().attr("value")&&(t.totalRegistrosFisica.text(++s),Nutricion.cargarDatosFisica(t,i,s))});let l=t.planAnterior.parent().attr("value");t.nuevoRegistroPlan.click(function(){Nutricion.crearRegistro('¿Quieres crear un nuevo registro de "ACONDICIONAMIENTO FÍSICO" para este usuario?',i=>{if(i){let i={nuevoRegistro:$(this).val(),tabla:5};Nutricion.consultaAjax("controllers/AjaxEventos.php",i,(i,o)=>{if(i)Nutricion.mostrarRespuesta("error","Error, intente de nuevo",3e4,!0);else{let i=parseInt(t.planAnterior.parent().attr("value"))+1;t.totalRegistrosPlan.text(i),t.totalRegistrosPlan2.text(i),t.totalRegistrosPlan3.attr("value",i),l=i,t.planAnterior.prop("disabled",!1),t.planSiguiente.prop("disabled",!1),Nutricion.mostrarRespuesta("success","Hecho",1e3),$(".input-nutrifitness-fisico-plan").val(0),t.comentariosPlan.val(""),t.actualizarRegistroPlan.val(o.idRegistro),t.modificarPlanFisico.click()}})}})}),t.planAnterior.click(function(){l>1&&(t.totalRegistrosPlan.text(--l),Nutricion.cargarDatosPlan(t,i,l))}),t.planSiguiente.click(function(){l<t.planAnterior.parent().attr("value")&&(t.totalRegistrosPlan.text(++l),Nutricion.cargarDatosPlan(t,i,l))})}).fail(function(i){console.log("Ocurrio un error:",i)})}static cargarDatosAlimentacion(i,o,a){i.formularioPlan.append('<div id="loadImageDatos" style="width:100%;height:100%;position:absolute;top:0;left:0;display: flex;flex-direction: column;justify-content: center;align-items: center;><div style="width:120px;height:120px;position:absolute;top:50%;left:50%;margin-top:-60px;margin-left:-60px;"><i class="fa fa-spinner fa-pulse fa-fw" style="font-size:110px;"></i></div></div>');let t={actualAlimentacion:a,identificadorUsuario:o};Nutricion.consultaAjax("controllers/AjaxEventos.php",t,(o,t)=>{o?($("#loadImageDatos").remove(),Nutricion.mostrarRespuesta("error","Error, intente de nuevo",3e4,!0)):(i.formularioPlan.find(".input-nutrifitness").eq(0).val(t.leche1),i.formularioPlan.find(".input-nutrifitness").eq(1).val(t.cereales1),i.formularioPlan.find(".input-nutrifitness").eq(2).val(t.leguminosas1),i.formularioPlan.find(".input-nutrifitness").eq(3).val(t.carnes1),i.formularioPlan.find(".input-nutrifitness").eq(4).val(t.frutas1),i.formularioPlan.find(".input-nutrifitness").eq(5).val(t.verduras1),i.formularioPlan.find(".input-nutrifitness").eq(6).val(t.grasas1),i.formularioPlan.find(".input-nutrifitness").eq(7).val(t.leche2),i.formularioPlan.find(".input-nutrifitness").eq(8).val(t.cereales2),i.formularioPlan.find(".input-nutrifitness").eq(9).val(t.leguminosas2),i.formularioPlan.find(".input-nutrifitness").eq(10).val(t.carnes2),i.formularioPlan.find(".input-nutrifitness").eq(11).val(t.frutas2),i.formularioPlan.find(".input-nutrifitness").eq(12).val(t.verduras2),i.formularioPlan.find(".input-nutrifitness").eq(13).val(t.grasas2),i.formularioPlan.find(".input-nutrifitness").eq(14).val(t.leche3),i.formularioPlan.find(".input-nutrifitness").eq(15).val(t.cereales3),i.formularioPlan.find(".input-nutrifitness").eq(16).val(t.leguminosas3),i.formularioPlan.find(".input-nutrifitness").eq(17).val(t.carnes3),i.formularioPlan.find(".input-nutrifitness").eq(18).val(t.frutas3),i.formularioPlan.find(".input-nutrifitness").eq(19).val(t.verduras3),i.formularioPlan.find(".input-nutrifitness").eq(20).val(t.grasas3),i.rutaPdf.attr("href","views/pdf/planAlimenticio.php?count="+a),i.colasion.val(t.colasion.replace(/<br \/>/gi,"")),i.actualizarRegistroAlimentacion.val(t.id),$("#loadImageDatos").remove())})}static cargarDatosLaboratorio(i,o,a){i.formularioLaboratorio.append('<div id="loadImageDatos" style="width:100%;height:100%;position:absolute;top:0;left:0;display: flex;flex-direction: column;justify-content: center;align-items: center;><div style="width:120px;height:120px;position:absolute;top:50%;left:50%;margin-top:-60px;margin-left:-60px;"><i class="fa fa-spinner fa-pulse fa-fw" style="font-size:110px;"></i></div></div>');let t={actualLaboratorio:a,identificadorUsuario:o};Nutricion.consultaAjax("controllers/AjaxEventos.php",t,(o,a)=>{o?($("#loadImageDatos").remove(),Nutricion.mostrarRespuesta("error","Error, intente de nuevo",3e4,!0)):(i.formularioLaboratorio.find(".input-nutrifitness-laboratorio").eq(0).val(a.colesterol),i.formularioLaboratorio.find(".input-nutrifitness-laboratorio").eq(1).val(a.glucosa),i.formularioLaboratorio.find(".input-nutrifitness-laboratorio").eq(2).val(a.HDL),i.formularioLaboratorio.find(".input-nutrifitness-laboratorio").eq(3).val(a.LDL),i.formularioLaboratorio.find(".input-nutrifitness-laboratorio").eq(4).val(a.trigliceridos),i.comentariosLaboratorio.val(a.comentarios.replace(/<br \/>/gi,"")),i.actualizarRegistroLaboratorio.val(a.id),$("#loadImageDatos").remove())})}static cargarDatosComposicion(i,o,a){i.formularioComposicion.append('<div id="loadImageDatos" style="width:100%;height:100%;position:absolute;top:0;left:0;display: flex;flex-direction: column;justify-content: center;align-items: center;><div style="width:120px;height:120px;position:absolute;top:50%;left:50%;margin-top:-60px;margin-left:-60px;"><i class="fa fa-spinner fa-pulse fa-fw" style="font-size:110px;"></i></div></div>');let t={actualComposicion:a,identificadorUsuario:o};Nutricion.consultaAjax("controllers/AjaxEventos.php",t,(o,a)=>{o?($("#loadImageDatos").remove(),Nutricion.mostrarRespuesta("error","Error, intente de nuevo",3e4,!0)):(i.formularioComposicion.find(".input-nutrifitness-composicion").eq(0).val(a.peso),i.formularioComposicion.find(".input-nutrifitness-composicion").eq(1).val(a.estatura),i.formularioComposicion.find(".input-nutrifitness-composicion").eq(2).val(a.musculo),i.formularioComposicion.find(".input-nutrifitness-composicion").eq(3).val(a.imc),i.formularioComposicion.find(".input-nutrifitness-composicion").eq(4).val(a.grasa_porcentaje),i.formularioComposicion.find(".input-nutrifitness-composicion").eq(5).val(a.grasa_kilos),i.formularioComposicion.find(".input-nutrifitness-composicion").eq(6).val(a.grasa_biceral),i.formularioComposicion.find(".input-nutrifitness-composicion").eq(7).val(a.cintura),i.clasificacionImc.text(Nutricion.imc(a.imc)),i.clasificacionCintura.text(Nutricion.cintura(a.cintura,a.genero)),i.comentariosComposicion.val(a.comentarios.replace(/<br \/>/gi,"")),i.actualizarRegistroComposicion.val(a.id),$("#loadImageDatos").remove())})}static cargarDatosFisica(i,o,a){i.formularioEvaluacionFisica.append('<div id="loadImageDatos" style="width:100%;height:100%;position:absolute;top:0;left:0;display: flex;flex-direction: column;justify-content: center;align-items: center;><div style="width:120px;height:120px;position:absolute;top:50%;left:50%;margin-top:-60px;margin-left:-60px;"><i class="fa fa-spinner fa-pulse fa-fw" style="font-size:110px;"></i></div></div>');let t={actualFisica:a,identificadorUsuario:o};Nutricion.consultaAjax("controllers/AjaxEventos.php",t,(o,a)=>{o?($("#loadImageDatos").remove(),Nutricion.mostrarRespuesta("error","Error, intente de nuevo",3e4,!0)):(i.formularioEvaluacionFisica.find(".input-nutrifitness-fisico-evaluacion").eq(0).val(a.fc_inicial),i.formularioEvaluacionFisica.find(".input-nutrifitness-fisico-evaluacion").eq(1).val(a.fc_final),i.formularioEvaluacionFisica.find(".input-nutrifitness-fisico-evaluacion").eq(2).val(a.flexibilidad),i.formularioEvaluacionFisica.find(".input-nutrifitness-fisico-evaluacion").eq(3).val(a.fuerza),i.formularioEvaluacionFisica.find(".input-nutrifitness-fisico-evaluacion").eq(4).val(a.sentadillas),i.comentariosEvaluacion.val(a.comentarios.replace(/<br \/>/gi,"")),i.actualizarRegistroFisica.val(a.id),$("#loadImageDatos").remove())})}static cargarDatosPlan(i,o,a){i.formularioPlanFisico.append('<div id="loadImageDatos" style="width:100%;height:100%;position:absolute;top:0;left:0;display: flex;flex-direction: column;justify-content: center;align-items: center;><div style="width:120px;height:120px;position:absolute;top:50%;left:50%;margin-top:-60px;margin-left:-60px;"><i class="fa fa-spinner fa-pulse fa-fw" style="font-size:110px;"></i></div></div>');let t={actualPlan:a,identificadorUsuario:o};Nutricion.consultaAjax("controllers/AjaxEventos.php",t,(o,a)=>{o?($("#loadImageDatos").remove(),Nutricion.mostrarRespuesta("error","Error, intente de nuevo",3e4,!0)):(i.formularioPlanFisico.find(".input-nutrifitness-fisico-plan").eq(0).val(a.lunes_tiempo),i.formularioPlanFisico.find(".input-nutrifitness-fisico-plan").eq(1).val(a.lunes_intensidad),i.comentariosPlan.val(a.lunes.replace(/<br \/>/gi,"")),i.actualizarRegistroPlan.val(a.id),$("#loadImageDatos").remove())})}static mostrarRespuesta(i,o,a,t=!1){swal({title:"",text:o,type:i,timer:a,showConfirmButton:t,allowOutsideClick:!1}).catch(swal.noop)}static consultaAjax(i,o,a){$.ajax({type:"POST",url:ruta_server+i,dataType:"json",data:o}).done(function(i){a(i.error,i)}).fail(function(i){a(!0,i)})}static crearRegistro(i,o){swal({title:i,text:"",type:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"¡Sí, continuar!",cancelButtonText:"¡No!"}).then(i=>{o(!0)}).catch(i=>{o(!1)})}static imc(i){let o="",a=parseFloat(i);return a>0&&a<18.5?o="PESO BAJO":a>=18.5&&a<25?o="PESO NORMAL":a>=25&&a<30?o="SOBREPESO":a>=30&&(o="OBESIDAD"),o}static cintura(i,o){let a="",t=parseFloat(i);return t>0&&t<90&&"M"==o||t<80&&"F"==o?a="SALUDABLE":(t>=90&&"M"==o||t>=80&&"F"==o)&&(a="RIESGO CARDIOVASCULAR"),a}static actualizarPerfil(i){i.guardarPerfil.show(),i.cambiarPerfil.hide(),i.descripcionEspecial.removeAttr("readonly"),i.descripcionEspecial.addClass("detalleUsuarioEspecial2")}static guardarPerfil(i){i.guardarPerfil.hide(),i.cambiarPerfil.show(),i.descripcionEspecial.prop("readonly",!0),i.descripcionEspecial.removeClass("detalleUsuarioEspecial2"),$.ajax({type:"POST",url:ruta_server+"controllers/AjaxEventos.php",dataType:"json",data:{descripcionUsuario:i.descripcionEspecial.val()}}).done(function(i){console.log(i)}).fail(function(i){console.log("Ocurrio un error:",i)})}static seleccionarRegistros(i,o){0===o&&$(".grupoChecked").prop("checked",i),$.ajax({type:"POST",url:ruta_server+"controllers/AjaxEventos.php",dataType:"json",data:{estadoRegistros:i,todosOuno:o}}).done(function(i){console.log(i)}).fail(function(i){console.log("Ocurrio un error:",i)})}static inicarClase(){let i=new Nutricion,o=i.laboratorioAnterior.parent().attr("value"),a=i.composicionAnterior.parent().attr("value"),t=i.alimentacionAnterior.parent().attr("value"),r=i.fisicaAnterior.parent().attr("value"),e=i.planAnterior.parent().attr("value");i.guardarPerfil.hide(),i.botonEquipo.click(function(){i.listaEquipo.modal("show"),i.nombreMiequipo.text($(this).val()),"LOS INCREIBLES"==$(this).val()?i.claseEquipos.css({"background-color":"#dd4b39",color:"#fff"}):"REGIOS FIT"==$(this).val()?i.claseEquipos.css({"background-color":"#0F0C68",color:"#fff"}):"TITANES DE ASESORES"==$(this).val()?i.claseEquipos.css({"background-color":"#000",color:"#fff"}):"GOLDEN GIRLS"==$(this).val()?i.claseEquipos.css({"background-color":"#E8B110",color:"#fff"}):"FITNESS SQUAD"==$(this).val()?i.claseEquipos.css({"background-color":"#e4007c",color:"#fff"}):"TAPATIOS FIT"==$(this).val()?i.claseEquipos.css({"background-color":"#03bb85",color:"#fff"}):i.claseEquipos.css({"background-color":"#fff",color:"#000"}),$.ajax({type:"POST",url:ruta_server+"controllers/AjaxEventos.php",dataType:"json",data:{mostrarEquipo:$(this).val()}}).done(function(o){i.cargarIntegrantes.html(o.html)}).fail(function(i){console.log("Ocurrio un error:",i)})}),i.cambiarPerfil.click(function(){Nutricion.actualizarPerfil(i)}),i.guardarPerfil.click(function(){Nutricion.guardarPerfil(i)}),i.detalleUsuario.click(function(){$(this).parent().siblings(".campoVisto").children("input").prop("checked",!0),Nutricion.detalleUsuario($(this).parent().parent().attr("id"))}),i.laboratorioAnterior.click(function(){o>1&&(i.totalRegistrosLaboratorio.text(--o),Nutricion.cargarDatosLaboratorio(i,0,o))}),i.laboratorioSiguiente.click(function(){o<i.laboratorioAnterior.parent().attr("value")&&(i.totalRegistrosLaboratorio.text(++o),Nutricion.cargarDatosLaboratorio(i,0,o))}),i.composicionAnterior.click(function(){a>1&&(i.totalRegistrosComposicion.text(--a),Nutricion.cargarDatosComposicion(i,0,a))}),i.composicionSiguiente.click(function(){a<i.composicionAnterior.parent().attr("value")&&(i.totalRegistrosComposicion.text(++a),Nutricion.cargarDatosComposicion(i,0,a))}),i.alimentacionAnterior.click(function(){t>1&&(i.totalRegistrosAlimentacion.text(--t),Nutricion.cargarDatosAlimentacion(i,0,t))}),i.alimentacionSiguiente.click(function(){t<i.alimentacionAnterior.parent().attr("value")&&(i.totalRegistrosAlimentacion.text(++t),Nutricion.cargarDatosAlimentacion(i,0,t))}),i.fisicaAnterior.click(function(){r>1&&(i.totalRegistrosFisica.text(--r),Nutricion.cargarDatosFisica(i,0,r))}),i.fisicaSiguiente.click(function(){r<i.fisicaAnterior.parent().attr("value")&&(i.totalRegistrosFisica.text(++r),Nutricion.cargarDatosFisica(i,0,r))}),i.planAnterior.click(function(){e>1&&(i.totalRegistrosPlan.text(--e),Nutricion.cargarDatosPlan(i,0,e))}),i.planSiguiente.click(function(){e<i.planAnterior.parent().attr("value")&&(i.totalRegistrosPlan.text(++e),Nutricion.cargarDatosPlan(i,0,e))}),i.checkedJefe.click(function(){Nutricion.seleccionarRegistros($(this).prop("checked"),0)}),i.subordinados.click(function(){Nutricion.seleccionarRegistros($(this).prop("checked"),$(this).parent().parent().attr("id"))}),i.leche.click(function(){i.ventanaLeche.modal("show")}),i.cereales.click(function(){i.ventanaCereal.modal("show")}),i.leguminosas.click(function(){i.ventanaLeguminosa.modal("show")}),i.carne.click(function(){i.ventanaCarne.modal("show")}),i.fruta.click(function(){i.ventanaFruta.modal("show")}),i.verdura.click(function(){i.ventanaVerdura.modal("show")}),i.grasa.click(function(){i.ventanaGrasa.modal("show")}),i.documentoCargar.change(function(o){let a=o.target.files[0];if(!/\.(?=pdf)/gi.test(a.name))return i.documentoCargar.val(""),void swal("Formato no válido","Formato válido: .pdf","error").catch(swal.noop);if(a.size>5242880)return i.documentoCargar.val(""),void swal("El documento tiene un tamaño mayor al permitido","El peso máximo es de 5 MB","error").catch(swal.noop);i.lienzo.html('<div class="row"><div class="col-md-2"></div><div class="col-md-8" ><div class="alert alert-info alert-dismissible"><i class="icon fa fa-check"></i> DOCUMENTO: '+a.name+'<button type="button" id="cancelarImagen" class="close" aria-hidden="true">&times;</button></div></div></div>'),$("#cancelarImagen").click(function(){i.documentoCargar.val(""),i.lienzo.html("")})}),i.portada.change(function(o){let a=o.target.files[0];if(!/\.(?=jpg|jpeg|png)/gi.test(a.name))return i.portada.val(""),void swal("Formato no válido","Formatos válidos: .jpg, .jpeg y .png","error").catch(swal.noop);if(a.size>2097152)return i.portada.val(""),void swal("El documento tiene un tamaño mayor al permitido","El peso máximo es de 2 MB","error").catch(swal.noop);i.lienzo2.html('<div class="row"><div class="col-md-2"></div><div class="col-md-8" ><div class="alert alert-success alert-dismissible"><i class="icon fa fa-check"></i> IMAGEN: '+a.name+'<button type="button" id="cancelarImagen2" class="close" aria-hidden="true">&times;</button></div></div></div>'),$("#cancelarImagen2").click(function(){i.portada.val(""),i.lienzo2.html("")})}),i.formularioArchivo.submit(function(o){o.preventDefault(),swal({title:'<i class="fa fa-spinner fa-spin fa-3x fa-fw"></i>',text:" Por favor espere...",type:"",showConfirmButton:!1,allowOutsideClick:!1});let a=new FormData($(this)[0]);$.ajax({url:ruta_server+"controllers/AjaxEventos.php",method:"POST",data:a,cache:!1,contentType:!1,processData:!1,dataType:"json",success:function(o){o.error||(i.portada.val(""),i.lienzo2.html(""),i.documentoCargar.val(""),i.lienzo.html(""),i.formularioArchivo[0].reset()),swal(o.mensaje,o.mensaje2,o.tipo),$.ajax({type:"POST",url:ruta_server+"controllers/AjaxEventos.php",dataType:"json",data:{cargarTalleres:!0}}).done(function(o){i.contenedoresTalleres.html(o.html)}).fail(function(i){console.log("Ocurrio un error:",i)})}})});let n=ruta_server+"views/pdf/planAlimenticio.php";i.pdf.click(function(i){i.preventDefault(),window.open(n+"?numero=1","Plan alimenticio")})}}Nutricion.inicarClase();